<aura:component controller="NDIAFileViewController" implements="forceCommunity:availableForAllPageTypes,flexiPage:availableForAllPageTypes,force:hasRecordId" access="global" >
    <aura:attribute name="data" type="List"/>
    <aura:attribute name="columns" type="List"/>
    <aura:handler name="init" value="{! this }" action="{! c.doInit }"/>
    
    
    
    <lightning:card aura:id="lightCard" class="slds-card_boundary" title="Files" iconName="doctype:attachment">    
        <div style="overflow-x: auto;">
            <table class="slds-table slds-table--bordered slds-cell-wrap slds-table--cell-buffer" width="151px">
                <thead>
                    <tr class="slds-text-title--caps"> 
                        <th class="slds-is-sortable slds-text-title--caps" scope="col">
                            <span class="slds-truncate" style="width:101px;" title="Sortorder">File Name</span>  
                        </th>
                        <th class="slds-is-sortable slds-text-title--caps" scope="col">
                            <span class="slds-truncate" style="width:51px;" title="Subject">File Type</span>  
                        </th> 
                        <th class="slds-is-sortable slds-text-title--caps" scope="col">
                            <span class="slds-truncate" style="width:101px;" title="Description">View Detail</span>  
                        </th> 
                        
                    </tr>
                </thead>
                <tbody>
                    <aura:iteration items="{!v.data}" var="objdata">
                        <tr>          
                            <th scope="row">   
                                <div class="slds-truncate" >
                                    <a href="" onclick="{!c.navigateToRecord}" id="{!objdata.ContentDocumentId}">{!objdata.ContentDocument.Title}</a>   
                                </div>
                            </th>
                            <th scope="row">   
                                <div class="slds-truncate" >
                                    {!objdata.ContentDocument.FileType}
                                </div>
                            </th>
                            <th scope="row">   
                                <div class="slds-truncate slds-m-around_xxx-small" onclick="{!c.redirectToSobject}" id="{!objdata.ContentDocumentId}" >
                                    <lightning:icon  class="slds-m-left_x-small" iconName="utility:preview" alternativeText="Doc image"  size="small"  />
                                  
                                </div>
                            </th>
                        </tr>
                        
                    </aura:iteration> 
                </tbody>
            </table>
            <div class="slds-card__footer">
                <a class="slds-card__footer-action" href="javascript:void(0);" onclick="{!c.openRelatedList}">View All</a>
            </div>
        </div>    
    </lightning:card>  
    
    
</aura:component>